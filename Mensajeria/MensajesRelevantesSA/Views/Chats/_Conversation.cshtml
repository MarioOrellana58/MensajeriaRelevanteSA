@model List<MensajesRelevantesSA.Models.MessageModel>


<style>
    ul {
        padding: 0;
        list-style-type: none;
    }

    li {
        list-style-type: none;
    }

    ul li {
        font-size: large;
        font-family: 'Gill Sans', 'Gill Sans MT', Calibri, 'Trebuchet MS', sans-serif;
        margin: 5px;
        padding: 0px;
    }

    ul li a {
        color: black;
        display: block;
        height: 100%;
        width: 100%;
        padding: 20px;
    }

    .emisor {
        text-align: right;
        padding-right: 10px;
        padding-top: 10px;
        padding-bottom: 10px;
        background: #f8f5f5;
    }

    .receptor {
        text-align: left;
        padding-left: 10px;
        padding-top: 10px;
        padding-bottom: 10px;
        background: #c9c9c9;
    }
</style>
<h6>
    <ul>
        @{
			if (Model != null)
			{
				foreach (var item in Model)
				{
					var emitterReceptor = item.SenderReceptor.Split('|');
					var fileArray = new string[1];
					if (item.UploadedFile != "")
					{						
						fileArray = item.UploadedFile.Split('|') ;
					}
					else
					{
						fileArray[0] = "no hay archivo";
					}

					if (emitterReceptor[0].Equals(MensajesRelevantesSA.Models.SessionUserNode.getInstance.Username))
					{

						<li class="emisor">
							@item.Message							
							@Html.ActionLink((string)fileArray[0], "GetFile", "Chats", new { senderReceptor = item.SenderReceptor, sentDate = item.SentDate }, null)
							@item.SentDate
						</li>
                    }
                    else
                    {

                        <li class="receptor">
                            @item.Message
                            @Html.ActionLink((string)fileArray[0], "GetFile", "Chats", new { senderReceptor = item.SenderReceptor, sentDate = item.SentDate }, null)
                            @item.SentDate
                        </li>
                    }
                }
            }
            else
            {
                <li>Seleccione una conversación</li>

            }
        }
    </ul>
</h6>
